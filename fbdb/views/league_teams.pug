extends layout

block content
    .container
        h3 Teams
        table#teamTable.table.table-hover
            thead.thead-dark
                tr
                    th ID
                    th Team
                    th Foundation
                    th Stadium
                    th Logo
                    th Color 1
                    th Color 2
            tbody#teamTableBody    

    script(type='text/javascript').
        $(document).ready(function(){
           populateTable(); // initial fetch
        });

        // Get all records
        function populateTable(){
            $.ajax({
                type: 'GET',
                url: window.location.pathname + '/list',
                dataType: 'json',
                success: function(data){
                    console.log(data);
                    for(var i=0; i<data.length; i++){     
                        var row = "<tr class='rowLeague' id='" + data[i].t_id + "'><td>" + data[i].t_id + "</td><td>" + data[i].t_name + "</td><td>" + data[i].t_year + "</td>" +
                                "<td>" + data[i].t_stadium + "</td><td><img height='48' src='" + data[i].t_logo+ "'></td><td bgcolor='" + data[i].t_color1 + "'></td>" +
                                "<td bgcolor='" + data[i].t_color2 + "'></td></tr>";
                        $("#teamTableBody").append(row);
                    }
                },
                error: function(data){
                    toastr.error('Error while fetching leagues...');
                }
            });
        };                                       
